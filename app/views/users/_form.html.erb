<div ng-controller="UsersCtlr">
  <%= form_for(@user, html: {name: "form",
                             class: "form form-horizontal",
                             'data-id' => @user.id,
                             role: "form"}) do |f| %>
    <div class="form-group">
      <label class="col-sm-2 control-label">Name</label>
      <div class="col-sm-10">
        <%= f.text_field :name,
          class: 'form-control',
          required: true,
          'ng-model' => 'user.name' %>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">Email</label>
      <div class="col-sm-10">
        <%= f.text_field :email,
          class: 'form-control',
          required: true,
          'ng-model' => 'user.email' %>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">Phone</label>
      <div class="col-sm-10">
        <%= f.text_field :phone,
          class: 'form-control',
          required: true,
          'ng-model' => 'user.phone' %>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">Password</label>
      <div class="col-sm-10">
        <%= f.password_field :password,
          class: 'form-control',
          'ng-model' => 'user.password' %>
      </div>
    </div>
    <%- if can? :manage, User %>
    <div class="form-group">
      <label class="col-sm-2 control-label">Role</label>
      <div class="col-sm-10">
        <%= f.select :role, User::ROLES.map { |r| [r.capitalize, r] }, {},
          class: 'form-control',
          required: true,
          'ng-model' => 'user.role' %>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">Is Disabled?</label>
      <div class="col-sm-10">
        <%= f.radio_button :disabled, "false",
          'ng-model' => 'user.disabled' %>
        <%= label :disabled, "Active", class: "control-label" %>
        <%= f.radio_button :disabled, "true",
          'ng-model' => 'user.disabled' %>
      <%= label :disabled, "Disabled", class: "control-label" %>
      </div>
    </div>
  <%- end %>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <%= f.submit 'Submit', class: 'btn btn-default',
          'ng-click' => 'save($event)' %>
      </div>
    </div>
<% end -%>
</div>
